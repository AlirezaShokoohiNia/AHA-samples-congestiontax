# ===========================================================
# Root
# ===========================================================
root = true

# ===========================================================
# Global defaults for all files
# ===========================================================
[*]
indent_style = space
indent_size = 4
charset = utf-8
end_of_line = crlf
insert_final_newline = true
trim_trailing_whitespace = true

# File-specific indentation
[*.{json,yml,yaml,xml}]
indent_size = 2

[.editorconfig]
indent_size = 2

[*.md]
trim_trailing_whitespace = false

# ===========================================================
# C# Shared Formatting & Analyzer Rules
# ===========================================================
[*.cs]
# Usings
dotnet_remove_unnecessary_usings = true : suggestion
dotnet_style_namespace_match_folder = false
dotnet_style_namespace_usings = inside:error
csharp_using_directive_placement = inside_namespace:warning

# Expression-bodied methods
csharp_style_expression_bodied_methods = when_on_single_line
csharp_style_expression_bodied_properties = when_on_single_line
csharp_style_expression_bodied_local_functions = when_on_single_line
csharp_style_var_for_built_in_types = true : suggestion
csharp_style_var_when_type_is_apparent = true : suggestion
csharp_style_var_elsewhere = true : suggestion
csharp_style_expression_bodied_methods = false : suggestion
csharp_style_expression_bodied_methods = true : suggestion
csharp_style_expression_bodied_properties = true : suggestion
csharp_style_expression_bodied_local_functions = when_on_single_line : suggestion


# Type preferences
dotnet_style_var_for_built_in_types = true : suggestion
dotnet_style_var_when_type_is_apparent = true : suggestion
dotnet_style_var_elsewhere = true : suggestion

# Braces & indentation
csharp_prefer_braces = false
csharp_indent_block_contents = true
csharp_indent_braces = false
csharp_indent_case_contents = true
csharp_indent_switch_labels = true

# Misc analyzer rules
dotnet_analyzer_diagnostic.severity = suggestion
dotnet_enable_roslyn_analyzers = true

# Explicit type allowances
dotnet_diagnostic.IDE0007.severity = none
dotnet_diagnostic.IDE0008.severity = none
dotnet_diagnostic.IDE0130.severity = none

# ===========================================================
# Naming conventions (shared everywhere)
# ===========================================================
dotnet_naming_rule.private_fields_should_be_camel_case.severity = suggestion
dotnet_naming_rule.private_fields_should_be_camel_case.symbols = private_fields
dotnet_naming_rule.private_fields_should_be_camel_case.style = camel_case_underscore

dotnet_naming_symbols.private_fields.applicable_kinds = field
dotnet_naming_symbols.private_fields.applicable_accessibilities = private

dotnet_naming_style.camel_case_underscore.capitalization = camel_case
dotnet_naming_style.camel_case_underscore.required_prefix = _


# ===========================================================
# Minimal API Project: src/*.Api
# ===========================================================
# [src/*.Api/**.cs]

# ===========================================================
# Class Libraries: Application, Domain, Infrastructure, Contracts, Seedwork
# ===========================================================
# [**/*.Application/**.cs]
# [**/*.Domain/**.cs]
# [**/*.Infrastructure/**.cs]
# [**/*.Contracts/**.cs]
# [**/*.Seedwork/**.cs]

# ===========================================================
# Test Projects: match all .Tests folders
# ===========================================================
[**/*.Tests/**/*.cs]
# Suppress specific warnings in tests
dotnet_diagnostic.CA1707.severity = none
dotnet_diagnostic.IDE0058.severity = none


# ===========================================================
# Generated code folders
# ===========================================================
[bin/**]
generated_code = true

[obj/**]
generated_code = true
